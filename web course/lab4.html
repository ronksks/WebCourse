<!DOCTYPE html>
<html>
<head>
    <title>lab4</title>
    <style>


        form div {
            margin-top: 20px;
        }

        form span {
            color: red;
            margin-left: 10px;
        }

        label {
            width: 80px;
            display: inline-block;
            margin-left: 120px;
        }
        /*input:required:invalid, input:focus:invalid {
          background-color:lightcyan;
        }*/

        input:required:invalid, input:focus:invalid {
            background-image: url(/img/invalid.png);
            background-position: right top;
            background-repeat: no-repeat;
        }

        input:required:valid {
            background-image: url(/img/valid.png);
            background-position: right top;
            background-repeat: no-repeat;
        }
    </style>
    <script src="inc/jquery-1.10.2.js"></script>
    <script>function Show() {
            var s = "Name:\t" + $("#name").val() + "\nMail:\t" +
                $("#mail").val() + "\nUrl:\t" + $("#url").val() +
                "\nAge:\t" + $("#age").val() + "\nUsername:\t" +
                $("#username").val() + "\nPassword:\t" + $("#pass").val();

            $("#result").text(s);
        }
        function SubmitData() {
            var inpObject = {
                Name: $("#name").val(),
                Mail: $("#mail").val(),
                Url: $("#url").val(),
                Age: $("#age").val(),
                User: $("#username").val(),
                Password: $("#pass")
            }
            var res = $("#result").text() + "\n\n" + JSON.stringify(inpObject);
            $("#result").text(res);
            var res = $("#localstorage").text() + "\n\n" + JSON.stringify(inpObject);
            $("#localstorage").text(res)
            return false;
        }

        function ResetData() {
            $("#result").text("");
        }

        function showError(o) {
            var sp = $(o).next();
            $(sp).text("Error value in " + $(o).attr("id"));
        }
        function clearError(o) {
            var sp = $(o).next();
            $(sp).text("");
        }

        // other example
        function check(input) {
            if (input.validity.typeMismatch) {
                input.setCustomValidity("The '" + input.value + "' is not a valid email. Enter something else!!");
            }
            else {
                input.setCustomValidity("");
            }
        }</script>
</head>
<body>
    <div style="width:600px;margin:20px auto;padding-top:20px">
        <form oninput="Show()" onsubmit="return SubmitData()" onreset="ResetData()">
            <div>
                <label>Name:</label><input type="text" id="name" required
                                           placeholder="Enter your name"
                                           pattern="[a-zA-Z]+"
                                           oninvalid="setCustomValidity('Please, enter the Alphabets only');showError(this)"
                                           onchange="try { setCustomValidity('');clearError(this)}catch(e){}"><span></span>
            </div>
            <div>
                <!--<label>Mail:</label><input type="email" id="mail" placeholder="Enter your mail" required>-->
                <label>Mail:</label><input type="text" id="mail" placeholder="Enter your mail"
                                           required
                                           pattern=".+@.+\..+"
                                           oninvalid="setCustomValidity('Please, enter a valid email');showError(this)">
            </div>
            <div>
                <label>URL:</label><input type="text" id="url" placeholder="Enter your site URL"
                                          required
                                          pattern="https?://.+"
                                          oninvalid="setCustomValidity('Please, enter a valid URL starting with http:// or https://');showError(this)">
            </div>
            <div>
                <label>Age:</label><input type="text" id="age" placeholder="Enter your age"
                                          required
                                          pattern="[0-9]+"
                                          oninvalid="setCustomValidity('Please, enter a valid age (numbers only)');showError(this)">
            </div>
            <div>
                <label>Username:</label><input type="text" id="username" placeholder="Enter your Username" required oninvalid="setCustomValidity('Please, enter a Username');showError(this)">
            </div>
            <div>
                <label>Password:</label><input type="password" id="pass" placeholder="Enter your password" required oninvalid="setCustomValidity('Please, enter a Password');showError(this)">
            </div>
            <label>&nbsp;</label>
            <input type="submit" value="Send">
            <input type="reset" value="Reset">
    </div>
    <div style="margin-top:20px;">
        <textarea id="result" style="width:100%;height:180px"></textarea>
        <textarea id="localstorage" style="width:100%;height:180px"></textarea>
    </div>

    </form>
    </div>
</body>
</html>